import React, { useEffect } from 'react';
import './TreeAnimation.css'; // Import your CSS file for styling

const TreeAnimation = () => {
  useEffect(() => {
    const leaves = document.querySelectorAll('.leaf');

    leaves.forEach((leaf) => {
      // Randomize initial position and animation duration
      const initialX = Math.random() * window.innerWidth;
      const initialY = Math.random() * window.innerHeight;
      const animationDuration = Math.random() * 5 + 3; // Random duration between 3 and 8 seconds

      // Set initial position
      leaf.style.left = `${initialX}px`;
      leaf.style.top = `${initialY}px`;

      // Apply animation
      leaf.style.animation = `leafAnimation ${animationDuration}s linear forwards`;

      // Attach leaf to the tree when the animation ends
      leaf.addEventListener('animationend', () => {
        leaf.style.opacity = '0'; // Make the leaf invisible
        leaf.style.animation = 'none'; // Remove the animation
        leaf.style.left = '50%'; // Position the leaf at the tree
        leaf.style.top = '70%'; // Adjust top value as needed
      });
    });
  }, []);

  return (
    <div className="tree-container">
      <img src="tree.png" alt="Tree" className="tree" />
      <div className="leaves">
        <img src="leaf1.png" alt="Leaf" className="leaf" />
        <img src="leaf2.png" alt="Leaf" className="leaf" />
        {/* Add more leaves as needed */}
      </div>
    </div>
  );
};

export default TreeAnimation;
